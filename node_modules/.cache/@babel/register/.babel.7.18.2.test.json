{"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/api/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/api/users.spec.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"/* global describe beforeEach it */\nconst {\n  expect\n} = require('chai');\n\nconst request = require('supertest');\n\nconst {\n  db,\n  models: {\n    User\n  }\n} = require('../db');\n\nconst seed = require('../../script/seed');\n\nconst app = require('../app');\n\ndescribe('User routes', () => {\n  beforeEach(async () => {\n    await seed();\n  });\n  describe('/api/users/', () => {\n    it('GET /api/users', async () => {\n      const res = await request(app).get('/api/users').expect(200);\n      expect(res.body).to.be.an('array');\n      expect(res.body.length).to.equal(2);\n    });\n  }); // end describe('/api/users')\n}); // end describe('User routes')\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBlY3QiLCJyZXF1aXJlIiwicmVxdWVzdCIsImRiIiwibW9kZWxzIiwiVXNlciIsInNlZWQiLCJhcHAiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJpdCIsInJlcyIsImdldCIsImJvZHkiLCJ0byIsImJlIiwiYW4iLCJsZW5ndGgiLCJlcXVhbCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NocmlzYi9GdWxsc3RhY2svQm9pbGVyTWFrZXItdGVtcGxhdGUvc2VydmVyL2FwaS8iLCJzb3VyY2VzIjpbInVzZXJzLnNwZWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGRlc2NyaWJlIGJlZm9yZUVhY2ggaXQgKi9cblxuY29uc3Qge2V4cGVjdH0gPSByZXF1aXJlKCdjaGFpJylcbmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCdzdXBlcnRlc3QnKVxuY29uc3QgeyBkYiwgbW9kZWxzOiB7IFVzZXIgfSB9ID0gcmVxdWlyZSgnLi4vZGInKVxuY29uc3Qgc2VlZCA9IHJlcXVpcmUoJy4uLy4uL3NjcmlwdC9zZWVkJyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi9hcHAnKVxuXG5kZXNjcmliZSgnVXNlciByb3V0ZXMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goYXN5bmMoKSA9PiB7XG4gICAgYXdhaXQgc2VlZCgpO1xuICB9KVxuXG4gIGRlc2NyaWJlKCcvYXBpL3VzZXJzLycsICgpID0+IHtcblxuICAgIGl0KCdHRVQgL2FwaS91c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgICAuZ2V0KCcvYXBpL3VzZXJzJylcbiAgICAgICAgLmV4cGVjdCgyMDApXG5cbiAgICAgIGV4cGVjdChyZXMuYm9keSkudG8uYmUuYW4oJ2FycmF5Jyk7XG4gICAgICBleHBlY3QocmVzLmJvZHkubGVuZ3RoKS50by5lcXVhbCgyKTtcbiAgICB9KVxuICB9KSAvLyBlbmQgZGVzY3JpYmUoJy9hcGkvdXNlcnMnKVxufSkgLy8gZW5kIGRlc2NyaWJlKCdVc2VyIHJvdXRlcycpXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTTtFQUFDQTtBQUFELElBQVdDLE9BQU8sQ0FBQyxNQUFELENBQXhCOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLFdBQUQsQ0FBdkI7O0FBQ0EsTUFBTTtFQUFFRSxFQUFGO0VBQU1DLE1BQU0sRUFBRTtJQUFFQztFQUFGO0FBQWQsSUFBMkJKLE9BQU8sQ0FBQyxPQUFELENBQXhDOztBQUNBLE1BQU1LLElBQUksR0FBR0wsT0FBTyxDQUFDLG1CQUFELENBQXBCOztBQUNBLE1BQU1NLEdBQUcsR0FBR04sT0FBTyxDQUFDLFFBQUQsQ0FBbkI7O0FBRUFPLFFBQVEsQ0FBQyxhQUFELEVBQWdCLE1BQU07RUFDNUJDLFVBQVUsQ0FBQyxZQUFXO0lBQ3BCLE1BQU1ILElBQUksRUFBVjtFQUNELENBRlMsQ0FBVjtFQUlBRSxRQUFRLENBQUMsYUFBRCxFQUFnQixNQUFNO0lBRTVCRSxFQUFFLENBQUMsZ0JBQUQsRUFBbUIsWUFBWTtNQUMvQixNQUFNQyxHQUFHLEdBQUcsTUFBTVQsT0FBTyxDQUFDSyxHQUFELENBQVAsQ0FDZkssR0FEZSxDQUNYLFlBRFcsRUFFZlosTUFGZSxDQUVSLEdBRlEsQ0FBbEI7TUFJQUEsTUFBTSxDQUFDVyxHQUFHLENBQUNFLElBQUwsQ0FBTixDQUFpQkMsRUFBakIsQ0FBb0JDLEVBQXBCLENBQXVCQyxFQUF2QixDQUEwQixPQUExQjtNQUNBaEIsTUFBTSxDQUFDVyxHQUFHLENBQUNFLElBQUosQ0FBU0ksTUFBVixDQUFOLENBQXdCSCxFQUF4QixDQUEyQkksS0FBM0IsQ0FBaUMsQ0FBakM7SUFDRCxDQVBDLENBQUY7RUFRRCxDQVZPLENBQVIsQ0FMNEIsQ0FlekI7QUFDSixDQWhCTyxDQUFSLEMsQ0FnQkcifQ==","map":{"version":3,"names":["expect","require","request","db","models","User","seed","app","describe","beforeEach","it","res","get","body","to","be","an","length","equal"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/server/api/","sources":["users.spec.js"],"sourcesContent":["/* global describe beforeEach it */\n\nconst {expect} = require('chai')\nconst request = require('supertest')\nconst { db, models: { User } } = require('../db')\nconst seed = require('../../script/seed');\nconst app = require('../app')\n\ndescribe('User routes', () => {\n  beforeEach(async() => {\n    await seed();\n  })\n\n  describe('/api/users/', () => {\n\n    it('GET /api/users', async () => {\n      const res = await request(app)\n        .get('/api/users')\n        .expect(200)\n\n      expect(res.body).to.be.an('array');\n      expect(res.body.length).to.equal(2);\n    })\n  }) // end describe('/api/users')\n}) // end describe('User routes')\n"],"mappings":"AAAA;AAEA,MAAM;EAACA;AAAD,IAAWC,OAAO,CAAC,MAAD,CAAxB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAM;EAAEE,EAAF;EAAMC,MAAM,EAAE;IAAEC;EAAF;AAAd,IAA2BJ,OAAO,CAAC,OAAD,CAAxC;;AACA,MAAMK,IAAI,GAAGL,OAAO,CAAC,mBAAD,CAApB;;AACA,MAAMM,GAAG,GAAGN,OAAO,CAAC,QAAD,CAAnB;;AAEAO,QAAQ,CAAC,aAAD,EAAgB,MAAM;EAC5BC,UAAU,CAAC,YAAW;IACpB,MAAMH,IAAI,EAAV;EACD,CAFS,CAAV;EAIAE,QAAQ,CAAC,aAAD,EAAgB,MAAM;IAE5BE,EAAE,CAAC,gBAAD,EAAmB,YAAY;MAC/B,MAAMC,GAAG,GAAG,MAAMT,OAAO,CAACK,GAAD,CAAP,CACfK,GADe,CACX,YADW,EAEfZ,MAFe,CAER,GAFQ,CAAlB;MAIAA,MAAM,CAACW,GAAG,CAACE,IAAL,CAAN,CAAiBC,EAAjB,CAAoBC,EAApB,CAAuBC,EAAvB,CAA0B,OAA1B;MACAhB,MAAM,CAACW,GAAG,CAACE,IAAJ,CAASI,MAAV,CAAN,CAAwBH,EAAxB,CAA2BI,KAA3B,CAAiC,CAAjC;IACD,CAPC,CAAF;EAQD,CAVO,CAAR,CAL4B,CAezB;AACJ,CAhBO,CAAR,C,CAgBG"}},"mtime":1654023890372},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/db/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/db/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"//this is the access point for all things database related!\nconst db = require('./db');\n\nconst User = require('./models/User'); //associations could go here!\n\n\nmodule.exports = {\n  db,\n  models: {\n    User\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJVc2VyIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVscyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NocmlzYi9GdWxsc3RhY2svQm9pbGVyTWFrZXItdGVtcGxhdGUvc2VydmVyL2RiLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy90aGlzIGlzIHRoZSBhY2Nlc3MgcG9pbnQgZm9yIGFsbCB0aGluZ3MgZGF0YWJhc2UgcmVsYXRlZCFcblxuY29uc3QgZGIgPSByZXF1aXJlKCcuL2RiJylcblxuY29uc3QgVXNlciA9IHJlcXVpcmUoJy4vbW9kZWxzL1VzZXInKVxuXG4vL2Fzc29jaWF0aW9ucyBjb3VsZCBnbyBoZXJlIVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGIsXG4gIG1vZGVsczoge1xuICAgIFVzZXIsXG4gIH0sXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBRUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFsQjs7QUFFQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxlQUFELENBQXBCLEMsQ0FFQTs7O0FBRUFFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtFQUNmSixFQURlO0VBRWZLLE1BQU0sRUFBRTtJQUNOSDtFQURNO0FBRk8sQ0FBakIifQ==","map":{"version":3,"names":["db","require","User","module","exports","models"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/server/db/","sources":["index.js"],"sourcesContent":["//this is the access point for all things database related!\n\nconst db = require('./db')\n\nconst User = require('./models/User')\n\n//associations could go here!\n\nmodule.exports = {\n  db,\n  models: {\n    User,\n  },\n}\n"],"mappings":"AAAA;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AAEA,MAAMC,IAAI,GAAGD,OAAO,CAAC,eAAD,CAApB,C,CAEA;;;AAEAE,MAAM,CAACC,OAAP,GAAiB;EACfJ,EADe;EAEfK,MAAM,EAAE;IACNH;EADM;AAFO,CAAjB"}},"mtime":1654023890375},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/db/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/db/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"const Sequelize = require('sequelize');\n\nconst pkg = require('../../package.json');\n\nconst databaseName = pkg.name + (process.env.NODE_ENV === 'test' ? '-test' : '');\nconst config = {\n  logging: false\n};\n\nif (process.env.LOGGING === 'true') {\n  delete config.logging;\n} //https://stackoverflow.com/questions/61254851/heroku-postgres-sequelize-no-pg-hba-conf-entry-for-host\n\n\nif (process.env.DATABASE_URL) {\n  config.dialectOptions = {\n    ssl: {\n      rejectUnauthorized: false\n    }\n  };\n}\n\nconst db = new Sequelize(process.env.DATABASE_URL || `postgres://localhost:5432/${databaseName}`, config);\nmodule.exports = db;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTZXF1ZWxpemUiLCJyZXF1aXJlIiwicGtnIiwiZGF0YWJhc2VOYW1lIiwibmFtZSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNvbmZpZyIsImxvZ2dpbmciLCJMT0dHSU5HIiwiREFUQUJBU0VfVVJMIiwiZGlhbGVjdE9wdGlvbnMiLCJzc2wiLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJkYiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jaHJpc2IvRnVsbHN0YWNrL0JvaWxlck1ha2VyLXRlbXBsYXRlL3NlcnZlci9kYi8iLCJzb3VyY2VzIjpbImRiLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpXG5jb25zdCBwa2cgPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKVxuXG5jb25zdCBkYXRhYmFzZU5hbWUgPSBwa2cubmFtZSArIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnID8gJy10ZXN0JyA6ICcnKVxuXG5jb25zdCBjb25maWcgPSB7XG4gIGxvZ2dpbmc6IGZhbHNlXG59O1xuXG5pZihwcm9jZXNzLmVudi5MT0dHSU5HID09PSAndHJ1ZScpe1xuICBkZWxldGUgY29uZmlnLmxvZ2dpbmdcbn1cblxuLy9odHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82MTI1NDg1MS9oZXJva3UtcG9zdGdyZXMtc2VxdWVsaXplLW5vLXBnLWhiYS1jb25mLWVudHJ5LWZvci1ob3N0XG5pZihwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpe1xuICBjb25maWcuZGlhbGVjdE9wdGlvbnMgPSB7XG4gICAgc3NsOiB7XG4gICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlXG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBkYiA9IG5ldyBTZXF1ZWxpemUoXG4gIHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCB8fCBgcG9zdGdyZXM6Ly9sb2NhbGhvc3Q6NTQzMi8ke2RhdGFiYXNlTmFtZX1gLCBjb25maWcpXG5tb2R1bGUuZXhwb3J0cyA9IGRiXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFNBQVMsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsb0JBQUQsQ0FBbkI7O0FBRUEsTUFBTUUsWUFBWSxHQUFHRCxHQUFHLENBQUNFLElBQUosSUFBWUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsTUFBekIsR0FBa0MsT0FBbEMsR0FBNEMsRUFBeEQsQ0FBckI7QUFFQSxNQUFNQyxNQUFNLEdBQUc7RUFDYkMsT0FBTyxFQUFFO0FBREksQ0FBZjs7QUFJQSxJQUFHSixPQUFPLENBQUNDLEdBQVIsQ0FBWUksT0FBWixLQUF3QixNQUEzQixFQUFrQztFQUNoQyxPQUFPRixNQUFNLENBQUNDLE9BQWQ7QUFDRCxDLENBRUQ7OztBQUNBLElBQUdKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxZQUFmLEVBQTRCO0VBQzFCSCxNQUFNLENBQUNJLGNBQVAsR0FBd0I7SUFDdEJDLEdBQUcsRUFBRTtNQUNIQyxrQkFBa0IsRUFBRTtJQURqQjtFQURpQixDQUF4QjtBQUtEOztBQUVELE1BQU1DLEVBQUUsR0FBRyxJQUFJZixTQUFKLENBQ1RLLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxZQUFaLElBQTZCLDZCQUE0QlIsWUFBYSxFQUQ3RCxFQUNnRUssTUFEaEUsQ0FBWDtBQUVBUSxNQUFNLENBQUNDLE9BQVAsR0FBaUJGLEVBQWpCIn0=","map":{"version":3,"names":["Sequelize","require","pkg","databaseName","name","process","env","NODE_ENV","config","logging","LOGGING","DATABASE_URL","dialectOptions","ssl","rejectUnauthorized","db","module","exports"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/server/db/","sources":["db.js"],"sourcesContent":["const Sequelize = require('sequelize')\nconst pkg = require('../../package.json')\n\nconst databaseName = pkg.name + (process.env.NODE_ENV === 'test' ? '-test' : '')\n\nconst config = {\n  logging: false\n};\n\nif(process.env.LOGGING === 'true'){\n  delete config.logging\n}\n\n//https://stackoverflow.com/questions/61254851/heroku-postgres-sequelize-no-pg-hba-conf-entry-for-host\nif(process.env.DATABASE_URL){\n  config.dialectOptions = {\n    ssl: {\n      rejectUnauthorized: false\n    }\n  };\n}\n\nconst db = new Sequelize(\n  process.env.DATABASE_URL || `postgres://localhost:5432/${databaseName}`, config)\nmodule.exports = db\n"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,oBAAD,CAAnB;;AAEA,MAAME,YAAY,GAAGD,GAAG,CAACE,IAAJ,IAAYC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GAAkC,OAAlC,GAA4C,EAAxD,CAArB;AAEA,MAAMC,MAAM,GAAG;EACbC,OAAO,EAAE;AADI,CAAf;;AAIA,IAAGJ,OAAO,CAACC,GAAR,CAAYI,OAAZ,KAAwB,MAA3B,EAAkC;EAChC,OAAOF,MAAM,CAACC,OAAd;AACD,C,CAED;;;AACA,IAAGJ,OAAO,CAACC,GAAR,CAAYK,YAAf,EAA4B;EAC1BH,MAAM,CAACI,cAAP,GAAwB;IACtBC,GAAG,EAAE;MACHC,kBAAkB,EAAE;IADjB;EADiB,CAAxB;AAKD;;AAED,MAAMC,EAAE,GAAG,IAAIf,SAAJ,CACTK,OAAO,CAACC,GAAR,CAAYK,YAAZ,IAA6B,6BAA4BR,YAAa,EAD7D,EACgEK,MADhE,CAAX;AAEAQ,MAAM,CAACC,OAAP,GAAiBF,EAAjB"}},"mtime":1654023890375},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/db/models/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/db/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"const Sequelize = require('sequelize');\n\nconst db = require('../db');\n\nconst jwt = require('jsonwebtoken');\n\nconst bcrypt = require('bcrypt');\n\nconst axios = require('axios');\n\nconst SALT_ROUNDS = 5;\nconst User = db.define('user', {\n  username: {\n    type: Sequelize.STRING,\n    unique: true,\n    allowNull: false\n  },\n  password: {\n    type: Sequelize.STRING\n  }\n});\nmodule.exports = User;\n/**\n * instanceMethods\n */\n\nUser.prototype.correctPassword = function (candidatePwd) {\n  //we need to compare the plain version to an encrypted version of the password\n  return bcrypt.compare(candidatePwd, this.password);\n};\n\nUser.prototype.generateToken = function () {\n  return jwt.sign({\n    id: this.id\n  }, process.env.JWT);\n};\n/**\n * classMethods\n */\n\n\nUser.authenticate = async function ({\n  username,\n  password\n}) {\n  const user = await this.findOne({\n    where: {\n      username\n    }\n  });\n\n  if (!user || !(await user.correctPassword(password))) {\n    const error = Error('Incorrect username/password');\n    error.status = 401;\n    throw error;\n  }\n\n  return user.generateToken();\n};\n\nUser.findByToken = async function (token) {\n  try {\n    const {\n      id\n    } = await jwt.verify(token, process.env.JWT);\n    const user = User.findByPk(id);\n\n    if (!user) {\n      throw 'nooo';\n    }\n\n    return user;\n  } catch (ex) {\n    const error = Error('bad token');\n    error.status = 401;\n    throw error;\n  }\n};\n/**\n * hooks\n */\n\n\nconst hashPassword = async user => {\n  //in case the password has been changed, we want to encrypt it with bcrypt\n  if (user.changed('password')) {\n    user.password = await bcrypt.hash(user.password, SALT_ROUNDS);\n  }\n};\n\nUser.beforeCreate(hashPassword);\nUser.beforeUpdate(hashPassword);\nUser.beforeBulkCreate(users => Promise.all(users.map(hashPassword)));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTZXF1ZWxpemUiLCJyZXF1aXJlIiwiZGIiLCJqd3QiLCJiY3J5cHQiLCJheGlvcyIsIlNBTFRfUk9VTkRTIiwiVXNlciIsImRlZmluZSIsInVzZXJuYW1lIiwidHlwZSIsIlNUUklORyIsInVuaXF1ZSIsImFsbG93TnVsbCIsInBhc3N3b3JkIiwibW9kdWxlIiwiZXhwb3J0cyIsInByb3RvdHlwZSIsImNvcnJlY3RQYXNzd29yZCIsImNhbmRpZGF0ZVB3ZCIsImNvbXBhcmUiLCJnZW5lcmF0ZVRva2VuIiwic2lnbiIsImlkIiwicHJvY2VzcyIsImVudiIsIkpXVCIsImF1dGhlbnRpY2F0ZSIsInVzZXIiLCJmaW5kT25lIiwid2hlcmUiLCJlcnJvciIsIkVycm9yIiwic3RhdHVzIiwiZmluZEJ5VG9rZW4iLCJ0b2tlbiIsInZlcmlmeSIsImZpbmRCeVBrIiwiZXgiLCJoYXNoUGFzc3dvcmQiLCJjaGFuZ2VkIiwiaGFzaCIsImJlZm9yZUNyZWF0ZSIsImJlZm9yZVVwZGF0ZSIsImJlZm9yZUJ1bGtDcmVhdGUiLCJ1c2VycyIsIlByb21pc2UiLCJhbGwiLCJtYXAiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jaHJpc2IvRnVsbHN0YWNrL0JvaWxlck1ha2VyLXRlbXBsYXRlL3NlcnZlci9kYi9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpXG5jb25zdCBkYiA9IHJlcXVpcmUoJy4uL2RiJylcbmNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcbmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcblxuY29uc3QgU0FMVF9ST1VORFMgPSA1O1xuXG5jb25zdCBVc2VyID0gZGIuZGVmaW5lKCd1c2VyJywge1xuICB1c2VybmFtZToge1xuICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIGFsbG93TnVsbDogZmFsc2VcbiAgfSxcbiAgcGFzc3dvcmQ6IHtcbiAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HLFxuICB9XG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJcblxuLyoqXG4gKiBpbnN0YW5jZU1ldGhvZHNcbiAqL1xuVXNlci5wcm90b3R5cGUuY29ycmVjdFBhc3N3b3JkID0gZnVuY3Rpb24oY2FuZGlkYXRlUHdkKSB7XG4gIC8vd2UgbmVlZCB0byBjb21wYXJlIHRoZSBwbGFpbiB2ZXJzaW9uIHRvIGFuIGVuY3J5cHRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzd29yZFxuICByZXR1cm4gYmNyeXB0LmNvbXBhcmUoY2FuZGlkYXRlUHdkLCB0aGlzLnBhc3N3b3JkKTtcbn1cblxuVXNlci5wcm90b3R5cGUuZ2VuZXJhdGVUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gand0LnNpZ24oe2lkOiB0aGlzLmlkfSwgcHJvY2Vzcy5lbnYuSldUKVxufVxuXG4vKipcbiAqIGNsYXNzTWV0aG9kc1xuICovXG5Vc2VyLmF1dGhlbnRpY2F0ZSA9IGFzeW5jIGZ1bmN0aW9uKHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0pe1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoe3doZXJlOiB7IHVzZXJuYW1lIH19KVxuICAgIGlmICghdXNlciB8fCAhKGF3YWl0IHVzZXIuY29ycmVjdFBhc3N3b3JkKHBhc3N3b3JkKSkpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gRXJyb3IoJ0luY29ycmVjdCB1c2VybmFtZS9wYXNzd29yZCcpO1xuICAgICAgZXJyb3Iuc3RhdHVzID0gNDAxO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIHJldHVybiB1c2VyLmdlbmVyYXRlVG9rZW4oKTtcbn07XG5cblVzZXIuZmluZEJ5VG9rZW4gPSBhc3luYyBmdW5jdGlvbih0b2tlbikge1xuICB0cnkge1xuICAgIGNvbnN0IHtpZH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1QpXG4gICAgY29uc3QgdXNlciA9IFVzZXIuZmluZEJ5UGsoaWQpXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aHJvdyAnbm9vbydcbiAgICB9XG4gICAgcmV0dXJuIHVzZXJcbiAgfSBjYXRjaCAoZXgpIHtcbiAgICBjb25zdCBlcnJvciA9IEVycm9yKCdiYWQgdG9rZW4nKVxuICAgIGVycm9yLnN0YXR1cyA9IDQwMVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuLyoqXG4gKiBob29rc1xuICovXG5jb25zdCBoYXNoUGFzc3dvcmQgPSBhc3luYyh1c2VyKSA9PiB7XG4gIC8vaW4gY2FzZSB0aGUgcGFzc3dvcmQgaGFzIGJlZW4gY2hhbmdlZCwgd2Ugd2FudCB0byBlbmNyeXB0IGl0IHdpdGggYmNyeXB0XG4gIGlmICh1c2VyLmNoYW5nZWQoJ3Bhc3N3b3JkJykpIHtcbiAgICB1c2VyLnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2godXNlci5wYXNzd29yZCwgU0FMVF9ST1VORFMpO1xuICB9XG59XG5cblVzZXIuYmVmb3JlQ3JlYXRlKGhhc2hQYXNzd29yZClcblVzZXIuYmVmb3JlVXBkYXRlKGhhc2hQYXNzd29yZClcblVzZXIuYmVmb3JlQnVsa0NyZWF0ZSh1c2VycyA9PiBQcm9taXNlLmFsbCh1c2Vycy5tYXAoaGFzaFBhc3N3b3JkKSkpXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFNBQVMsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBekI7O0FBQ0EsTUFBTUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsT0FBRCxDQUFsQjs7QUFDQSxNQUFNRSxHQUFHLEdBQUdGLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUNBLE1BQU1HLE1BQU0sR0FBR0gsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTUksS0FBSyxHQUFHSixPQUFPLENBQUMsT0FBRCxDQUFyQjs7QUFFQSxNQUFNSyxXQUFXLEdBQUcsQ0FBcEI7QUFFQSxN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","map":{"version":3,"names":["Sequelize","require","db","jwt","bcrypt","axios","SALT_ROUNDS","User","define","username","type","STRING","unique","allowNull","password","module","exports","prototype","correctPassword","candidatePwd","compare","generateToken","sign","id","process","env","JWT","authenticate","user","findOne","where","error","Error","status","findByToken","token","verify","findByPk","ex","hashPassword","changed","hash","beforeCreate","beforeUpdate","beforeBulkCreate","users","Promise","all","map"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/server/db/models/","sources":["User.js"],"sourcesContent":["const Sequelize = require('sequelize')\nconst db = require('../db')\nconst jwt = require('jsonwebtoken')\nconst bcrypt = require('bcrypt');\nconst axios = require('axios');\n\nconst SALT_ROUNDS = 5;\n\nconst User = db.define('user', {\n  username: {\n    type: Sequelize.STRING,\n    unique: true,\n    allowNull: false\n  },\n  password: {\n    type: Sequelize.STRING,\n  }\n})\n\nmodule.exports = User\n\n/**\n * instanceMethods\n */\nUser.prototype.correctPassword = function(candidatePwd) {\n  //we need to compare the plain version to an encrypted version of the password\n  return bcrypt.compare(candidatePwd, this.password);\n}\n\nUser.prototype.generateToken = function() {\n  return jwt.sign({id: this.id}, process.env.JWT)\n}\n\n/**\n * classMethods\n */\nUser.authenticate = async function({ username, password }){\n    const user = await this.findOne({where: { username }})\n    if (!user || !(await user.correctPassword(password))) {\n      const error = Error('Incorrect username/password');\n      error.status = 401;\n      throw error;\n    }\n    return user.generateToken();\n};\n\nUser.findByToken = async function(token) {\n  try {\n    const {id} = await jwt.verify(token, process.env.JWT)\n    const user = User.findByPk(id)\n    if (!user) {\n      throw 'nooo'\n    }\n    return user\n  } catch (ex) {\n    const error = Error('bad token')\n    error.status = 401\n    throw error\n  }\n}\n\n/**\n * hooks\n */\nconst hashPassword = async(user) => {\n  //in case the password has been changed, we want to encrypt it with bcrypt\n  if (user.changed('password')) {\n    user.password = await bcrypt.hash(user.password, SALT_ROUNDS);\n  }\n}\n\nUser.beforeCreate(hashPassword)\nUser.beforeUpdate(hashPassword)\nUser.beforeBulkCreate(users => Promise.all(users.map(hashPassword)))\n"],"mappings":"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"}},"mtime":1654023890376},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/script/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/script/seed.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"'use strict';\n\nconst {\n  db,\n  models: {\n    User\n  }\n} = require('../server/db');\n/**\n * seed - this function clears the database, updates tables to\n *      match the models, and populates the database.\n */\n\n\nasync function seed() {\n  await db.sync({\n    force: true\n  }); // clears db and matches models to tables\n\n  console.log('db synced!'); // Creating Users\n\n  const users = await Promise.all([User.create({\n    username: 'cody',\n    password: '123'\n  }), User.create({\n    username: 'murphy',\n    password: '123'\n  })]);\n  console.log(`seeded ${users.length} users`);\n  console.log(`seeded successfully`);\n  return {\n    users: {\n      cody: users[0],\n      murphy: users[1]\n    }\n  };\n}\n/*\n We've separated the `seed` function from the `runSeed` function.\n This way we can isolate the error handling and exit trapping.\n The `seed` function is concerned only with modifying the database.\n*/\n\n\nasync function runSeed() {\n  console.log('seeding...');\n\n  try {\n    await seed();\n  } catch (err) {\n    console.error(err);\n    process.exitCode = 1;\n  } finally {\n    console.log('closing db connection');\n    await db.close();\n    console.log('db connection closed');\n  }\n}\n/*\n  Execute the `seed` function, IF we ran this module directly (`node seed`).\n  `Async` functions always return a promise, so we can use `catch` to handle\n  any errors that might occur inside of `seed`.\n*/\n\n\nif (module === require.main) {\n  runSeed();\n} // we export the seed function for testing purposes (see `./seed.spec.js`)\n\n\nmodule.exports = seed;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkYiIsIm1vZGVscyIsIlVzZXIiLCJyZXF1aXJlIiwic2VlZCIsInN5bmMiLCJmb3JjZSIsImNvbnNvbGUiLCJsb2ciLCJ1c2VycyIsIlByb21pc2UiLCJhbGwiLCJjcmVhdGUiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibGVuZ3RoIiwiY29keSIsIm11cnBoeSIsInJ1blNlZWQiLCJlcnIiLCJlcnJvciIsInByb2Nlc3MiLCJleGl0Q29kZSIsImNsb3NlIiwibW9kdWxlIiwibWFpbiIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jaHJpc2IvRnVsbHN0YWNrL0JvaWxlck1ha2VyLXRlbXBsYXRlL3NjcmlwdC8iLCJzb3VyY2VzIjpbInNlZWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHtkYiwgbW9kZWxzOiB7VXNlcn0gfSA9IHJlcXVpcmUoJy4uL3NlcnZlci9kYicpXG5cbi8qKlxuICogc2VlZCAtIHRoaXMgZnVuY3Rpb24gY2xlYXJzIHRoZSBkYXRhYmFzZSwgdXBkYXRlcyB0YWJsZXMgdG9cbiAqICAgICAgbWF0Y2ggdGhlIG1vZGVscywgYW5kIHBvcHVsYXRlcyB0aGUgZGF0YWJhc2UuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHNlZWQoKSB7XG4gIGF3YWl0IGRiLnN5bmMoeyBmb3JjZTogdHJ1ZSB9KSAvLyBjbGVhcnMgZGIgYW5kIG1hdGNoZXMgbW9kZWxzIHRvIHRhYmxlc1xuICBjb25zb2xlLmxvZygnZGIgc3luY2VkIScpXG5cbiAgLy8gQ3JlYXRpbmcgVXNlcnNcbiAgY29uc3QgdXNlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgVXNlci5jcmVhdGUoeyB1c2VybmFtZTogJ2NvZHknLCBwYXNzd29yZDogJzEyMycgfSksXG4gICAgVXNlci5jcmVhdGUoeyB1c2VybmFtZTogJ211cnBoeScsIHBhc3N3b3JkOiAnMTIzJyB9KSxcbiAgXSlcblxuICBjb25zb2xlLmxvZyhgc2VlZGVkICR7dXNlcnMubGVuZ3RofSB1c2Vyc2ApXG4gIGNvbnNvbGUubG9nKGBzZWVkZWQgc3VjY2Vzc2Z1bGx5YClcbiAgcmV0dXJuIHtcbiAgICB1c2Vyczoge1xuICAgICAgY29keTogdXNlcnNbMF0sXG4gICAgICBtdXJwaHk6IHVzZXJzWzFdXG4gICAgfVxuICB9XG59XG5cbi8qXG4gV2UndmUgc2VwYXJhdGVkIHRoZSBgc2VlZGAgZnVuY3Rpb24gZnJvbSB0aGUgYHJ1blNlZWRgIGZ1bmN0aW9uLlxuIFRoaXMgd2F5IHdlIGNhbiBpc29sYXRlIHRoZSBlcnJvciBoYW5kbGluZyBhbmQgZXhpdCB0cmFwcGluZy5cbiBUaGUgYHNlZWRgIGZ1bmN0aW9uIGlzIGNvbmNlcm5lZCBvbmx5IHdpdGggbW9kaWZ5aW5nIHRoZSBkYXRhYmFzZS5cbiovXG5hc3luYyBmdW5jdGlvbiBydW5TZWVkKCkge1xuICBjb25zb2xlLmxvZygnc2VlZGluZy4uLicpXG4gIHRyeSB7XG4gICAgYXdhaXQgc2VlZCgpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgIHByb2Nlc3MuZXhpdENvZGUgPSAxXG4gIH0gZmluYWxseSB7XG4gICAgY29uc29sZS5sb2coJ2Nsb3NpbmcgZGIgY29ubmVjdGlvbicpXG4gICAgYXdhaXQgZGIuY2xvc2UoKVxuICAgIGNvbnNvbGUubG9nKCdkYiBjb25uZWN0aW9uIGNsb3NlZCcpXG4gIH1cbn1cblxuLypcbiAgRXhlY3V0ZSB0aGUgYHNlZWRgIGZ1bmN0aW9uLCBJRiB3ZSByYW4gdGhpcyBtb2R1bGUgZGlyZWN0bHkgKGBub2RlIHNlZWRgKS5cbiAgYEFzeW5jYCBmdW5jdGlvbnMgYWx3YXlzIHJldHVybiBhIHByb21pc2UsIHNvIHdlIGNhbiB1c2UgYGNhdGNoYCB0byBoYW5kbGVcbiAgYW55IGVycm9ycyB0aGF0IG1pZ2h0IG9jY3VyIGluc2lkZSBvZiBgc2VlZGAuXG4qL1xuaWYgKG1vZHVsZSA9PT0gcmVxdWlyZS5tYWluKSB7XG4gIHJ1blNlZWQoKVxufVxuXG4vLyB3ZSBleHBvcnQgdGhlIHNlZWQgZnVuY3Rpb24gZm9yIHRlc3RpbmcgcHVycG9zZXMgKHNlZSBgLi9zZWVkLnNwZWMuanNgKVxubW9kdWxlLmV4cG9ydHMgPSBzZWVkXG4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLE1BQU07RUFBQ0EsRUFBRDtFQUFLQyxNQUFNLEVBQUU7SUFBQ0M7RUFBRDtBQUFiLElBQXdCQyxPQUFPLENBQUMsY0FBRCxDQUFyQztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxlQUFlQyxJQUFmLEdBQXNCO0VBQ3BCLE1BQU1KLEVBQUUsQ0FBQ0ssSUFBSCxDQUFRO0lBQUVDLEtBQUssRUFBRTtFQUFULENBQVIsQ0FBTixDQURvQixDQUNXOztFQUMvQkMsT0FBTyxDQUFDQyxHQUFSLENBQVksWUFBWixFQUZvQixDQUlwQjs7RUFDQSxNQUFNQyxLQUFLLEdBQUcsTUFBTUMsT0FBTyxDQUFDQyxHQUFSLENBQVksQ0FDOUJULElBQUksQ0FBQ1UsTUFBTCxDQUFZO0lBQUVDLFFBQVEsRUFBRSxNQUFaO0lBQW9CQyxRQUFRLEVBQUU7RUFBOUIsQ0FBWixDQUQ4QixFQUU5QlosSUFBSSxDQUFDVSxNQUFMLENBQVk7SUFBRUMsUUFBUSxFQUFFLFFBQVo7SUFBc0JDLFFBQVEsRUFBRTtFQUFoQyxDQUFaLENBRjhCLENBQVosQ0FBcEI7RUFLQVAsT0FBTyxDQUFDQyxHQUFSLENBQWEsVUFBU0MsS0FBSyxDQUFDTSxNQUFPLFFBQW5DO0VBQ0FSLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHFCQUFiO0VBQ0EsT0FBTztJQUNMQyxLQUFLLEVBQUU7TUFDTE8sSUFBSSxFQUFFUCxLQUFLLENBQUMsQ0FBRCxDQUROO01BRUxRLE1BQU0sRUFBRVIsS0FBSyxDQUFDLENBQUQ7SUFGUjtFQURGLENBQVA7QUFNRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLGVBQWVTLE9BQWYsR0FBeUI7RUFDdkJYLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFlBQVo7O0VBQ0EsSUFBSTtJQUNGLE1BQU1KLElBQUksRUFBVjtFQUNELENBRkQsQ0FFRSxPQUFPZSxHQUFQLEVBQVk7SUFDWlosT0FBTyxDQUFDYSxLQUFSLENBQWNELEdBQWQ7SUFDQUUsT0FBTyxDQUFDQyxRQUFSLEdBQW1CLENBQW5CO0VBQ0QsQ0FMRCxTQUtVO0lBQ1JmLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHVCQUFaO0lBQ0EsTUFBTVIsRUFBRSxDQUFDdUIsS0FBSCxFQUFOO0lBQ0FoQixPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQkFBWjtFQUNEO0FBQ0Y7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxJQUFJZ0IsTUFBTSxLQUFLckIsT0FBTyxDQUFDc0IsSUFBdkIsRUFBNkI7RUFDM0JQLE9BQU87QUFDUixDLENBRUQ7OztBQUNBTSxNQUFNLENBQUNFLE9BQVAsR0FBaUJ0QixJQUFqQiJ9","map":{"version":3,"names":["db","models","User","require","seed","sync","force","console","log","users","Promise","all","create","username","password","length","cody","murphy","runSeed","err","error","process","exitCode","close","module","main","exports"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/script/","sources":["seed.js"],"sourcesContent":["'use strict'\n\nconst {db, models: {User} } = require('../server/db')\n\n/**\n * seed - this function clears the database, updates tables to\n *      match the models, and populates the database.\n */\nasync function seed() {\n  await db.sync({ force: true }) // clears db and matches models to tables\n  console.log('db synced!')\n\n  // Creating Users\n  const users = await Promise.all([\n    User.create({ username: 'cody', password: '123' }),\n    User.create({ username: 'murphy', password: '123' }),\n  ])\n\n  console.log(`seeded ${users.length} users`)\n  console.log(`seeded successfully`)\n  return {\n    users: {\n      cody: users[0],\n      murphy: users[1]\n    }\n  }\n}\n\n/*\n We've separated the `seed` function from the `runSeed` function.\n This way we can isolate the error handling and exit trapping.\n The `seed` function is concerned only with modifying the database.\n*/\nasync function runSeed() {\n  console.log('seeding...')\n  try {\n    await seed()\n  } catch (err) {\n    console.error(err)\n    process.exitCode = 1\n  } finally {\n    console.log('closing db connection')\n    await db.close()\n    console.log('db connection closed')\n  }\n}\n\n/*\n  Execute the `seed` function, IF we ran this module directly (`node seed`).\n  `Async` functions always return a promise, so we can use `catch` to handle\n  any errors that might occur inside of `seed`.\n*/\nif (module === require.main) {\n  runSeed()\n}\n\n// we export the seed function for testing purposes (see `./seed.spec.js`)\nmodule.exports = seed\n"],"mappings":"AAAA;;AAEA,MAAM;EAACA,EAAD;EAAKC,MAAM,EAAE;IAACC;EAAD;AAAb,IAAwBC,OAAO,CAAC,cAAD,CAArC;AAEA;AACA;AACA;AACA;;;AACA,eAAeC,IAAf,GAAsB;EACpB,MAAMJ,EAAE,CAACK,IAAH,CAAQ;IAAEC,KAAK,EAAE;EAAT,CAAR,CAAN,CADoB,CACW;;EAC/BC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAFoB,CAIpB;;EACA,MAAMC,KAAK,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAY,CAC9BT,IAAI,CAACU,MAAL,CAAY;IAAEC,QAAQ,EAAE,MAAZ;IAAoBC,QAAQ,EAAE;EAA9B,CAAZ,CAD8B,EAE9BZ,IAAI,CAACU,MAAL,CAAY;IAAEC,QAAQ,EAAE,QAAZ;IAAsBC,QAAQ,EAAE;EAAhC,CAAZ,CAF8B,CAAZ,CAApB;EAKAP,OAAO,CAACC,GAAR,CAAa,UAASC,KAAK,CAACM,MAAO,QAAnC;EACAR,OAAO,CAACC,GAAR,CAAa,qBAAb;EACA,OAAO;IACLC,KAAK,EAAE;MACLO,IAAI,EAAEP,KAAK,CAAC,CAAD,CADN;MAELQ,MAAM,EAAER,KAAK,CAAC,CAAD;IAFR;EADF,CAAP;AAMD;AAED;AACA;AACA;AACA;AACA;;;AACA,eAAeS,OAAf,GAAyB;EACvBX,OAAO,CAACC,GAAR,CAAY,YAAZ;;EACA,IAAI;IACF,MAAMJ,IAAI,EAAV;EACD,CAFD,CAEE,OAAOe,GAAP,EAAY;IACZZ,OAAO,CAACa,KAAR,CAAcD,GAAd;IACAE,OAAO,CAACC,QAAR,GAAmB,CAAnB;EACD,CALD,SAKU;IACRf,OAAO,CAACC,GAAR,CAAY,uBAAZ;IACA,MAAMR,EAAE,CAACuB,KAAH,EAAN;IACAhB,OAAO,CAACC,GAAR,CAAY,sBAAZ;EACD;AACF;AAED;AACA;AACA;AACA;AACA;;;AACA,IAAIgB,MAAM,KAAKrB,OAAO,CAACsB,IAAvB,EAA6B;EAC3BP,OAAO;AACR,C,CAED;;;AACAM,MAAM,CAACE,OAAP,GAAiBtB,IAAjB"}},"mtime":1654023890371},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"const path = require('path');\n\nconst express = require('express');\n\nconst morgan = require('morgan');\n\nconst app = express();\nmodule.exports = app; // logging middleware\n\napp.use(morgan('dev')); // body parsing middleware\n\napp.use(express.json()); // auth and api routes\n\napp.use('/auth', require('./auth'));\napp.use('/api', require('./api'));\napp.get('/', (req, res) => res.sendFile(path.join(__dirname, '..', 'public/index.html'))); // static file-serving middleware\n\napp.use(express.static(path.join(__dirname, '..', 'public'))); // any remaining requests with an extension (.js, .css, etc.) send 404\n\napp.use((req, res, next) => {\n  if (path.extname(req.path).length) {\n    const err = new Error('Not found');\n    err.status = 404;\n    next(err);\n  } else {\n    next();\n  }\n}); // sends index.html\n\napp.use('*', (req, res) => {\n  res.sendFile(path.join(__dirname, '..', 'public/index.html'));\n}); // error handling endware\n\napp.use((err, req, res, next) => {\n  console.error(err);\n  console.error(err.stack);\n  res.status(err.status || 500).send(err.message || 'Internal server error.');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImV4cHJlc3MiLCJtb3JnYW4iLCJhcHAiLCJtb2R1bGUiLCJleHBvcnRzIiwidXNlIiwianNvbiIsImdldCIsInJlcSIsInJlcyIsInNlbmRGaWxlIiwiam9pbiIsIl9fZGlybmFtZSIsInN0YXRpYyIsIm5leHQiLCJleHRuYW1lIiwibGVuZ3RoIiwiZXJyIiwiRXJyb3IiLCJzdGF0dXMiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGFjayIsInNlbmQiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY2hyaXNiL0Z1bGxzdGFjay9Cb2lsZXJNYWtlci10ZW1wbGF0ZS9zZXJ2ZXIvIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKVxuY29uc3QgbW9yZ2FuID0gcmVxdWlyZSgnbW9yZ2FuJylcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxubW9kdWxlLmV4cG9ydHMgPSBhcHBcblxuLy8gbG9nZ2luZyBtaWRkbGV3YXJlXG5hcHAudXNlKG1vcmdhbignZGV2JykpXG5cbi8vIGJvZHkgcGFyc2luZyBtaWRkbGV3YXJlXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKVxuXG4vLyBhdXRoIGFuZCBhcGkgcm91dGVzXG5hcHAudXNlKCcvYXV0aCcsIHJlcXVpcmUoJy4vYXV0aCcpKVxuYXBwLnVzZSgnL2FwaScsIHJlcXVpcmUoJy4vYXBpJykpXG5cbmFwcC5nZXQoJy8nLCAocmVxLCByZXMpPT4gcmVzLnNlbmRGaWxlKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLicsICdwdWJsaWMvaW5kZXguaHRtbCcpKSk7XG5cbi8vIHN0YXRpYyBmaWxlLXNlcnZpbmcgbWlkZGxld2FyZVxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4nLCAncHVibGljJykpKVxuXG4vLyBhbnkgcmVtYWluaW5nIHJlcXVlc3RzIHdpdGggYW4gZXh0ZW5zaW9uICguanMsIC5jc3MsIGV0Yy4pIHNlbmQgNDA0XG5hcHAudXNlKChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBpZiAocGF0aC5leHRuYW1lKHJlcS5wYXRoKS5sZW5ndGgpIHtcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoJ05vdCBmb3VuZCcpXG4gICAgZXJyLnN0YXR1cyA9IDQwNFxuICAgIG5leHQoZXJyKVxuICB9IGVsc2Uge1xuICAgIG5leHQoKVxuICB9XG59KVxuXG4vLyBzZW5kcyBpbmRleC5odG1sXG5hcHAudXNlKCcqJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4nLCAncHVibGljL2luZGV4Lmh0bWwnKSk7XG59KVxuXG4vLyBlcnJvciBoYW5kbGluZyBlbmR3YXJlXG5hcHAudXNlKChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoZXJyKVxuICBjb25zb2xlLmVycm9yKGVyci5zdGFjaylcbiAgcmVzLnN0YXR1cyhlcnIuc3RhdHVzIHx8IDUwMCkuc2VuZChlcnIubWVzc2FnZSB8fCAnSW50ZXJuYWwgc2VydmVyIGVycm9yLicpXG59KVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxJQUFJLEdBQUdDLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBLE1BQU1DLE9BQU8sR0FBR0QsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsTUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNRyxHQUFHLEdBQUdGLE9BQU8sRUFBbkI7QUFDQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCRixHQUFqQixDLENBRUE7O0FBQ0FBLEdBQUcsQ0FBQ0csR0FBSixDQUFRSixNQUFNLENBQUMsS0FBRCxDQUFkLEUsQ0FFQTs7QUFDQUMsR0FBRyxDQUFDRyxHQUFKLENBQVFMLE9BQU8sQ0FBQ00sSUFBUixFQUFSLEUsQ0FFQTs7QUFDQUosR0FBRyxDQUFDRyxHQUFKLENBQVEsT0FBUixFQUFpQk4sT0FBTyxDQUFDLFFBQUQsQ0FBeEI7QUFDQUcsR0FBRyxDQUFDRyxHQUFKLENBQVEsTUFBUixFQUFnQk4sT0FBTyxDQUFDLE9BQUQsQ0FBdkI7QUFFQUcsR0FBRyxDQUFDSyxHQUFKLENBQVEsR0FBUixFQUFhLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFhQSxHQUFHLENBQUNDLFFBQUosQ0FBYVosSUFBSSxDQUFDYSxJQUFMLENBQVVDLFNBQVYsRUFBcUIsSUFBckIsRUFBMkIsbUJBQTNCLENBQWIsQ0FBMUIsRSxDQUVBOztBQUNBVixHQUFHLENBQUNHLEdBQUosQ0FBUUwsT0FBTyxDQUFDYSxNQUFSLENBQWVmLElBQUksQ0FBQ2EsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLElBQXJCLEVBQTJCLFFBQTNCLENBQWYsQ0FBUixFLENBRUE7O0FBQ0FWLEdBQUcsQ0FBQ0csR0FBSixDQUFRLENBQUNHLEdBQUQsRUFBTUMsR0FBTixFQUFXSyxJQUFYLEtBQW9CO0VBQzFCLElBQUloQixJQUFJLENBQUNpQixPQUFMLENBQWFQLEdBQUcsQ0FBQ1YsSUFBakIsRUFBdUJrQixNQUEzQixFQUFtQztJQUNqQyxNQUFNQyxHQUFHLEdBQUcsSUFBSUMsS0FBSixDQUFVLFdBQVYsQ0FBWjtJQUNBRCxHQUFHLENBQUNFLE1BQUosR0FBYSxHQUFiO0lBQ0FMLElBQUksQ0FBQ0csR0FBRCxDQUFKO0VBQ0QsQ0FKRCxNQUlPO0lBQ0xILElBQUk7RUFDTDtBQUNGLENBUkQsRSxDQVVBOztBQUNBWixHQUFHLENBQUNHLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0csR0FBRCxFQUFNQyxHQUFOLEtBQWM7RUFDekJBLEdBQUcsQ0FBQ0MsUUFBSixDQUFhWixJQUFJLENBQUNhLElBQUwsQ0FBVUMsU0FBVixFQUFxQixJQUFyQixFQUEyQixtQkFBM0IsQ0FBYjtBQUNELENBRkQsRSxDQUlBOztBQUNBVixHQUFHLENBQUNHLEdBQUosQ0FBUSxDQUFDWSxHQUFELEVBQU1ULEdBQU4sRUFBV0MsR0FBWCxFQUFnQkssSUFBaEIsS0FBeUI7RUFDL0JNLE9BQU8sQ0FBQ0MsS0FBUixDQUFjSixHQUFkO0VBQ0FHLE9BQU8sQ0FBQ0MsS0FBUixDQUFjSixHQUFHLENBQUNLLEtBQWxCO0VBQ0FiLEdBQUcsQ0FBQ1UsTUFBSixDQUFXRixHQUFHLENBQUNFLE1BQUosSUFBYyxHQUF6QixFQUE4QkksSUFBOUIsQ0FBbUNOLEdBQUcsQ0FBQ08sT0FBSixJQUFlLHdCQUFsRDtBQUNELENBSkQifQ==","map":{"version":3,"names":["path","require","express","morgan","app","module","exports","use","json","get","req","res","sendFile","join","__dirname","static","next","extname","length","err","Error","status","console","error","stack","send","message"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/server/","sources":["app.js"],"sourcesContent":["const path = require('path')\nconst express = require('express')\nconst morgan = require('morgan')\nconst app = express()\nmodule.exports = app\n\n// logging middleware\napp.use(morgan('dev'))\n\n// body parsing middleware\napp.use(express.json())\n\n// auth and api routes\napp.use('/auth', require('./auth'))\napp.use('/api', require('./api'))\n\napp.get('/', (req, res)=> res.sendFile(path.join(__dirname, '..', 'public/index.html')));\n\n// static file-serving middleware\napp.use(express.static(path.join(__dirname, '..', 'public')))\n\n// any remaining requests with an extension (.js, .css, etc.) send 404\napp.use((req, res, next) => {\n  if (path.extname(req.path).length) {\n    const err = new Error('Not found')\n    err.status = 404\n    next(err)\n  } else {\n    next()\n  }\n})\n\n// sends index.html\napp.use('*', (req, res) => {\n  res.sendFile(path.join(__dirname, '..', 'public/index.html'));\n})\n\n// error handling endware\napp.use((err, req, res, next) => {\n  console.error(err)\n  console.error(err.stack)\n  res.status(err.status || 500).send(err.message || 'Internal server error.')\n})\n"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMG,GAAG,GAAGF,OAAO,EAAnB;AACAG,MAAM,CAACC,OAAP,GAAiBF,GAAjB,C,CAEA;;AACAA,GAAG,CAACG,GAAJ,CAAQJ,MAAM,CAAC,KAAD,CAAd,E,CAEA;;AACAC,GAAG,CAACG,GAAJ,CAAQL,OAAO,CAACM,IAAR,EAAR,E,CAEA;;AACAJ,GAAG,CAACG,GAAJ,CAAQ,OAAR,EAAiBN,OAAO,CAAC,QAAD,CAAxB;AACAG,GAAG,CAACG,GAAJ,CAAQ,MAAR,EAAgBN,OAAO,CAAC,OAAD,CAAvB;AAEAG,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAaA,GAAG,CAACC,QAAJ,CAAaZ,IAAI,CAACa,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,mBAA3B,CAAb,CAA1B,E,CAEA;;AACAV,GAAG,CAACG,GAAJ,CAAQL,OAAO,CAACa,MAAR,CAAef,IAAI,CAACa,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,QAA3B,CAAf,CAAR,E,CAEA;;AACAV,GAAG,CAACG,GAAJ,CAAQ,CAACG,GAAD,EAAMC,GAAN,EAAWK,IAAX,KAAoB;EAC1B,IAAIhB,IAAI,CAACiB,OAAL,CAAaP,GAAG,CAACV,IAAjB,EAAuBkB,MAA3B,EAAmC;IACjC,MAAMC,GAAG,GAAG,IAAIC,KAAJ,CAAU,WAAV,CAAZ;IACAD,GAAG,CAACE,MAAJ,GAAa,GAAb;IACAL,IAAI,CAACG,GAAD,CAAJ;EACD,CAJD,MAIO;IACLH,IAAI;EACL;AACF,CARD,E,CAUA;;AACAZ,GAAG,CAACG,GAAJ,CAAQ,GAAR,EAAa,CAACG,GAAD,EAAMC,GAAN,KAAc;EACzBA,GAAG,CAACC,QAAJ,CAAaZ,IAAI,CAACa,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,mBAA3B,CAAb;AACD,CAFD,E,CAIA;;AACAV,GAAG,CAACG,GAAJ,CAAQ,CAACY,GAAD,EAAMT,GAAN,EAAWC,GAAX,EAAgBK,IAAhB,KAAyB;EAC/BM,OAAO,CAACC,KAAR,CAAcJ,GAAd;EACAG,OAAO,CAACC,KAAR,CAAcJ,GAAG,CAACK,KAAlB;EACAb,GAAG,CAACU,MAAJ,CAAWF,GAAG,CAACE,MAAJ,IAAc,GAAzB,EAA8BI,IAA9B,CAAmCN,GAAG,CAACO,OAAJ,IAAe,wBAAlD;AACD,CAJD"}},"mtime":1654023890373},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/auth/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/auth/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"const router = require('express').Router();\n\nconst {\n  models: {\n    User\n  }\n} = require('../db');\n\nmodule.exports = router;\nrouter.post('/login', async (req, res, next) => {\n  try {\n    res.send({\n      token: await User.authenticate(req.body)\n    });\n  } catch (err) {\n    next(err);\n  }\n});\nrouter.post('/signup', async (req, res, next) => {\n  try {\n    const user = await User.create(req.body);\n    res.send({\n      token: await user.generateToken()\n    });\n  } catch (err) {\n    if (err.name === 'SequelizeUniqueConstraintError') {\n      res.status(401).send('User already exists');\n    } else {\n      next(err);\n    }\n  }\n});\nrouter.get('/me', async (req, res, next) => {\n  try {\n    res.send(await User.findByToken(req.headers.authorization));\n  } catch (ex) {\n    next(ex);\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyZXF1aXJlIiwiUm91dGVyIiwibW9kZWxzIiwiVXNlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJwb3N0IiwicmVxIiwicmVzIiwibmV4dCIsInNlbmQiLCJ0b2tlbiIsImF1dGhlbnRpY2F0ZSIsImJvZHkiLCJlcnIiLCJ1c2VyIiwiY3JlYXRlIiwiZ2VuZXJhdGVUb2tlbiIsIm5hbWUiLCJzdGF0dXMiLCJnZXQiLCJmaW5kQnlUb2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwiZXgiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jaHJpc2IvRnVsbHN0YWNrL0JvaWxlck1ha2VyLXRlbXBsYXRlL3NlcnZlci9hdXRoLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgcm91dGVyID0gcmVxdWlyZSgnZXhwcmVzcycpLlJvdXRlcigpXG5jb25zdCB7IG1vZGVsczoge1VzZXIgfX0gPSByZXF1aXJlKCcuLi9kYicpXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlclxuXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgcmVzLnNlbmQoeyB0b2tlbjogYXdhaXQgVXNlci5hdXRoZW50aWNhdGUocmVxLmJvZHkpfSk7IFxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBuZXh0KGVycilcbiAgfVxufSlcblxuXG5yb3V0ZXIucG9zdCgnL3NpZ251cCcsIGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZShyZXEuYm9keSlcbiAgICByZXMuc2VuZCh7dG9rZW46IGF3YWl0IHVzZXIuZ2VuZXJhdGVUb2tlbigpfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGVyci5uYW1lID09PSAnU2VxdWVsaXplVW5pcXVlQ29uc3RyYWludEVycm9yJykge1xuICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ1VzZXIgYWxyZWFkeSBleGlzdHMnKVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0KGVycilcbiAgICB9XG4gIH1cbn0pXG5cbnJvdXRlci5nZXQoJy9tZScsIGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIHJlcy5zZW5kKGF3YWl0IFVzZXIuZmluZEJ5VG9rZW4ocmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbikpXG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgbmV4dChleClcbiAgfVxufSlcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFQLENBQW1CQyxNQUFuQixFQUFmOztBQUNBLE1BQU07RUFBRUMsTUFBTSxFQUFFO0lBQUNDO0VBQUQ7QUFBVixJQUFxQkgsT0FBTyxDQUFDLE9BQUQsQ0FBbEM7O0FBQ0FJLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQk4sTUFBakI7QUFFQUEsTUFBTSxDQUFDTyxJQUFQLENBQVksUUFBWixFQUFzQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosRUFBaUJDLElBQWpCLEtBQTBCO0VBQzlDLElBQUk7SUFDRkQsR0FBRyxDQUFDRSxJQUFKLENBQVM7TUFBRUMsS0FBSyxFQUFFLE1BQU1SLElBQUksQ0FBQ1MsWUFBTCxDQUFrQkwsR0FBRyxDQUFDTSxJQUF0QjtJQUFmLENBQVQ7RUFDRCxDQUZELENBRUUsT0FBT0MsR0FBUCxFQUFZO0lBQ1pMLElBQUksQ0FBQ0ssR0FBRCxDQUFKO0VBQ0Q7QUFDRixDQU5EO0FBU0FmLE1BQU0sQ0FBQ08sSUFBUCxDQUFZLFNBQVosRUFBdUIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtFQUMvQyxJQUFJO0lBQ0YsTUFBTU0sSUFBSSxHQUFHLE1BQU1aLElBQUksQ0FBQ2EsTUFBTCxDQUFZVCxHQUFHLENBQUNNLElBQWhCLENBQW5CO0lBQ0FMLEdBQUcsQ0FBQ0UsSUFBSixDQUFTO01BQUNDLEtBQUssRUFBRSxNQUFNSSxJQUFJLENBQUNFLGFBQUw7SUFBZCxDQUFUO0VBQ0QsQ0FIRCxDQUdFLE9BQU9ILEdBQVAsRUFBWTtJQUNaLElBQUlBLEdBQUcsQ0FBQ0ksSUFBSixLQUFhLGdDQUFqQixFQUFtRDtNQUNqRFYsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQlQsSUFBaEIsQ0FBcUIscUJBQXJCO0lBQ0QsQ0FGRCxNQUVPO01BQ0xELElBQUksQ0FBQ0ssR0FBRCxDQUFKO0lBQ0Q7RUFDRjtBQUNGLENBWEQ7QUFhQWYsTUFBTSxDQUFDcUIsR0FBUCxDQUFXLEtBQVgsRUFBa0IsT0FBT2IsR0FBUCxFQUFZQyxHQUFaLEVBQWlCQyxJQUFqQixLQUEwQjtFQUMxQyxJQUFJO0lBQ0ZELEdBQUcsQ0FBQ0UsSUFBSixDQUFTLE1BQU1QLElBQUksQ0FBQ2tCLFdBQUwsQ0FBaUJkLEdBQUcsQ0FBQ2UsT0FBSixDQUFZQyxhQUE3QixDQUFmO0VBQ0QsQ0FGRCxDQUVFLE9BQU9DLEVBQVAsRUFBVztJQUNYZixJQUFJLENBQUNlLEVBQUQsQ0FBSjtFQUNEO0FBQ0YsQ0FORCJ9","map":{"version":3,"names":["router","require","Router","models","User","module","exports","post","req","res","next","send","token","authenticate","body","err","user","create","generateToken","name","status","get","findByToken","headers","authorization","ex"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/server/auth/","sources":["index.js"],"sourcesContent":["const router = require('express').Router()\nconst { models: {User }} = require('../db')\nmodule.exports = router\n\nrouter.post('/login', async (req, res, next) => {\n  try {\n    res.send({ token: await User.authenticate(req.body)}); \n  } catch (err) {\n    next(err)\n  }\n})\n\n\nrouter.post('/signup', async (req, res, next) => {\n  try {\n    const user = await User.create(req.body)\n    res.send({token: await user.generateToken()})\n  } catch (err) {\n    if (err.name === 'SequelizeUniqueConstraintError') {\n      res.status(401).send('User already exists')\n    } else {\n      next(err)\n    }\n  }\n})\n\nrouter.get('/me', async (req, res, next) => {\n  try {\n    res.send(await User.findByToken(req.headers.authorization))\n  } catch (ex) {\n    next(ex)\n  }\n})\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AACA,MAAM;EAAEC,MAAM,EAAE;IAACC;EAAD;AAAV,IAAqBH,OAAO,CAAC,OAAD,CAAlC;;AACAI,MAAM,CAACC,OAAP,GAAiBN,MAAjB;AAEAA,MAAM,CAACO,IAAP,CAAY,QAAZ,EAAsB,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAC9C,IAAI;IACFD,GAAG,CAACE,IAAJ,CAAS;MAAEC,KAAK,EAAE,MAAMR,IAAI,CAACS,YAAL,CAAkBL,GAAG,CAACM,IAAtB;IAAf,CAAT;EACD,CAFD,CAEE,OAAOC,GAAP,EAAY;IACZL,IAAI,CAACK,GAAD,CAAJ;EACD;AACF,CAND;AASAf,MAAM,CAACO,IAAP,CAAY,SAAZ,EAAuB,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAC/C,IAAI;IACF,MAAMM,IAAI,GAAG,MAAMZ,IAAI,CAACa,MAAL,CAAYT,GAAG,CAACM,IAAhB,CAAnB;IACAL,GAAG,CAACE,IAAJ,CAAS;MAACC,KAAK,EAAE,MAAMI,IAAI,CAACE,aAAL;IAAd,CAAT;EACD,CAHD,CAGE,OAAOH,GAAP,EAAY;IACZ,IAAIA,GAAG,CAACI,IAAJ,KAAa,gCAAjB,EAAmD;MACjDV,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqB,qBAArB;IACD,CAFD,MAEO;MACLD,IAAI,CAACK,GAAD,CAAJ;IACD;EACF;AACF,CAXD;AAaAf,MAAM,CAACqB,GAAP,CAAW,KAAX,EAAkB,OAAOb,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EAC1C,IAAI;IACFD,GAAG,CAACE,IAAJ,CAAS,MAAMP,IAAI,CAACkB,WAAL,CAAiBd,GAAG,CAACe,OAAJ,CAAYC,aAA7B,CAAf;EACD,CAFD,CAEE,OAAOC,EAAP,EAAW;IACXf,IAAI,CAACe,EAAD,CAAJ;EACD;AACF,CAND"}},"mtime":1654023890374},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/api/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/api/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"const router = require('express').Router();\n\nmodule.exports = router;\nrouter.use('/users', require('./users'));\nrouter.use((req, res, next) => {\n  const error = new Error('Not Found');\n  error.status = 404;\n  next(error);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyZXF1aXJlIiwiUm91dGVyIiwibW9kdWxlIiwiZXhwb3J0cyIsInVzZSIsInJlcSIsInJlcyIsIm5leHQiLCJlcnJvciIsIkVycm9yIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY2hyaXNiL0Z1bGxzdGFjay9Cb2lsZXJNYWtlci10ZW1wbGF0ZS9zZXJ2ZXIvYXBpLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgcm91dGVyID0gcmVxdWlyZSgnZXhwcmVzcycpLlJvdXRlcigpXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlclxuXG5yb3V0ZXIudXNlKCcvdXNlcnMnLCByZXF1aXJlKCcuL3VzZXJzJykpXG5cbnJvdXRlci51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdOb3QgRm91bmQnKVxuICBlcnJvci5zdGF0dXMgPSA0MDRcbiAgbmV4dChlcnJvcilcbn0pXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkMsTUFBbkIsRUFBZjs7QUFDQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCSixNQUFqQjtBQUVBQSxNQUFNLENBQUNLLEdBQVAsQ0FBVyxRQUFYLEVBQXFCSixPQUFPLENBQUMsU0FBRCxDQUE1QjtBQUVBRCxNQUFNLENBQUNLLEdBQVAsQ0FBVyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtFQUM3QixNQUFNQyxLQUFLLEdBQUcsSUFBSUMsS0FBSixDQUFVLFdBQVYsQ0FBZDtFQUNBRCxLQUFLLENBQUNFLE1BQU4sR0FBZSxHQUFmO0VBQ0FILElBQUksQ0FBQ0MsS0FBRCxDQUFKO0FBQ0QsQ0FKRCJ9","map":{"version":3,"names":["router","require","Router","module","exports","use","req","res","next","error","Error","status"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/server/api/","sources":["index.js"],"sourcesContent":["const router = require('express').Router()\nmodule.exports = router\n\nrouter.use('/users', require('./users'))\n\nrouter.use((req, res, next) => {\n  const error = new Error('Not Found')\n  error.status = 404\n  next(error)\n})\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AACAC,MAAM,CAACC,OAAP,GAAiBJ,MAAjB;AAEAA,MAAM,CAACK,GAAP,CAAW,QAAX,EAAqBJ,OAAO,CAAC,SAAD,CAA5B;AAEAD,MAAM,CAACK,GAAP,CAAW,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;EAC7B,MAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAU,WAAV,CAAd;EACAD,KAAK,CAACE,MAAN,GAAe,GAAf;EACAH,IAAI,CAACC,KAAD,CAAJ;AACD,CAJD"}},"mtime":1654023890372},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/api/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/server/api/users.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"const router = require('express').Router();\n\nconst {\n  models: {\n    User\n  }\n} = require('../db');\n\nmodule.exports = router;\nrouter.get('/', async (req, res, next) => {\n  try {\n    const users = await User.findAll({\n      // explicitly select only the id and username fields - even though\n      // users' passwords are encrypted, it won't help if we just\n      // send everything to anyone who asks!\n      attributes: ['id', 'username']\n    });\n    res.json(users);\n  } catch (err) {\n    next(err);\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJyZXF1aXJlIiwiUm91dGVyIiwibW9kZWxzIiwiVXNlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXQiLCJyZXEiLCJyZXMiLCJuZXh0IiwidXNlcnMiLCJmaW5kQWxsIiwiYXR0cmlidXRlcyIsImpzb24iLCJlcnIiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9jaHJpc2IvRnVsbHN0YWNrL0JvaWxlck1ha2VyLXRlbXBsYXRlL3NlcnZlci9hcGkvIiwic291cmNlcyI6WyJ1c2Vycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByb3V0ZXIgPSByZXF1aXJlKCdleHByZXNzJykuUm91dGVyKClcbmNvbnN0IHsgbW9kZWxzOiB7IFVzZXIgfX0gPSByZXF1aXJlKCcuLi9kYicpXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlclxuXG5yb3V0ZXIuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2VyLmZpbmRBbGwoe1xuICAgICAgLy8gZXhwbGljaXRseSBzZWxlY3Qgb25seSB0aGUgaWQgYW5kIHVzZXJuYW1lIGZpZWxkcyAtIGV2ZW4gdGhvdWdoXG4gICAgICAvLyB1c2VycycgcGFzc3dvcmRzIGFyZSBlbmNyeXB0ZWQsIGl0IHdvbid0IGhlbHAgaWYgd2UganVzdFxuICAgICAgLy8gc2VuZCBldmVyeXRoaW5nIHRvIGFueW9uZSB3aG8gYXNrcyFcbiAgICAgIGF0dHJpYnV0ZXM6IFsnaWQnLCAndXNlcm5hbWUnXVxuICAgIH0pXG4gICAgcmVzLmpzb24odXNlcnMpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIG5leHQoZXJyKVxuICB9XG59KVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxNQUFNLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJDLE1BQW5CLEVBQWY7O0FBQ0EsTUFBTTtFQUFFQyxNQUFNLEVBQUU7SUFBRUM7RUFBRjtBQUFWLElBQXNCSCxPQUFPLENBQUMsT0FBRCxDQUFuQzs7QUFDQUksTUFBTSxDQUFDQyxPQUFQLEdBQWlCTixNQUFqQjtBQUVBQSxNQUFNLENBQUNPLEdBQVAsQ0FBVyxHQUFYLEVBQWdCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDeEMsSUFBSTtJQUNGLE1BQU1DLEtBQUssR0FBRyxNQUFNUCxJQUFJLENBQUNRLE9BQUwsQ0FBYTtNQUMvQjtNQUNBO01BQ0E7TUFDQUMsVUFBVSxFQUFFLENBQUMsSUFBRCxFQUFPLFVBQVA7SUFKbUIsQ0FBYixDQUFwQjtJQU1BSixHQUFHLENBQUNLLElBQUosQ0FBU0gsS0FBVDtFQUNELENBUkQsQ0FRRSxPQUFPSSxHQUFQLEVBQVk7SUFDWkwsSUFBSSxDQUFDSyxHQUFELENBQUo7RUFDRDtBQUNGLENBWkQifQ==","map":{"version":3,"names":["router","require","Router","models","User","module","exports","get","req","res","next","users","findAll","attributes","json","err"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/server/api/","sources":["users.js"],"sourcesContent":["const router = require('express').Router()\nconst { models: { User }} = require('../db')\nmodule.exports = router\n\nrouter.get('/', async (req, res, next) => {\n  try {\n    const users = await User.findAll({\n      // explicitly select only the id and username fields - even though\n      // users' passwords are encrypted, it won't help if we just\n      // send everything to anyone who asks!\n      attributes: ['id', 'username']\n    })\n    res.json(users)\n  } catch (err) {\n    next(err)\n  }\n})\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AACA,MAAM;EAAEC,MAAM,EAAE;IAAEC;EAAF;AAAV,IAAsBH,OAAO,CAAC,OAAD,CAAnC;;AACAI,MAAM,CAACC,OAAP,GAAiBN,MAAjB;AAEAA,MAAM,CAACO,GAAP,CAAW,GAAX,EAAgB,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACxC,IAAI;IACF,MAAMC,KAAK,GAAG,MAAMP,IAAI,CAACQ,OAAL,CAAa;MAC/B;MACA;MACA;MACAC,UAAU,EAAE,CAAC,IAAD,EAAO,UAAP;IAJmB,CAAb,CAApB;IAMAJ,GAAG,CAACK,IAAJ,CAASH,KAAT;EACD,CARD,CAQE,OAAOI,GAAP,EAAY;IACZL,IAAI,CAACK,GAAD,CAAJ;EACD;AACF,CAZD"}},"mtime":1654023890372},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/client/store/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/client/store/auth.spec.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"/* global describe beforeEach afterEach it */\nimport { expect } from 'chai';\nimport { me, logout } from './auth';\nimport axios from 'axios';\nimport MockAdapter from 'axios-mock-adapter';\nimport configureMockStore from 'redux-mock-store';\nimport thunkMiddleware from 'redux-thunk';\nimport history from '../history';\nconst middlewares = [thunkMiddleware];\nconst mockStore = configureMockStore(middlewares);\ndescribe('thunk creators', () => {\n  let store;\n  let mockAxios;\n  const initialState = {\n    user: {}\n  };\n  beforeEach(() => {\n    //no browser available, we need to stub out localStorage\n    global.window = {\n      localStorage: {\n        removeItem: () => {},\n        getItem: () => {\n          return 'some-token';\n        },\n        setItem: () => {}\n      }\n    };\n    mockAxios = new MockAdapter(axios);\n    store = mockStore(initialState);\n  });\n  afterEach(() => {\n    mockAxios.restore();\n    store.clearActions();\n  });\n  describe('me', () => {\n    describe('with valid token', () => {\n      beforeEach(() => {\n        global.window = {\n          localStorage: {\n            removeItem: () => {},\n            getItem: () => {\n              return 'some-token';\n            },\n            setItem: () => {}\n          }\n        };\n      });\n      it('eventually dispatches the SET_AUTH action', async () => {\n        const fakeUser = {\n          username: 'Cody'\n        };\n        mockAxios.onGet('/auth/me').replyOnce(200, fakeUser);\n        await store.dispatch(me());\n        const actions = store.getActions();\n        expect(actions[0].type).to.be.equal('SET_AUTH');\n        expect(actions[0].auth).to.be.deep.equal(fakeUser);\n      });\n    });\n    describe('without valid token', () => {\n      beforeEach(() => {\n        global.window = {\n          localStorage: {\n            removeItem: () => {},\n            getItem: () => {},\n            setItem: () => {}\n          }\n        };\n      });\n      it('does not dispatch GET USER action', async () => {\n        const fakeUser = {\n          username: 'Cody'\n        };\n        mockAxios.onGet('/auth/me').replyOnce(200, fakeUser);\n        await store.dispatch(me());\n        const actions = store.getActions();\n        expect(actions.length).to.equal(0);\n      });\n    });\n  });\n  describe('logout', () => {\n    it('logout: eventually dispatches the SET_AUTH action withan empty object', async () => {\n      mockAxios.onPost('/auth/logout').replyOnce(204);\n      await store.dispatch(logout());\n      const actions = store.getActions();\n      expect(actions[0].type).to.be.equal('SET_AUTH');\n      expect(history.location.pathname).to.be.equal('/login');\n    });\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBlY3QiLCJtZSIsImxvZ291dCIsImF4aW9zIiwiTW9ja0FkYXB0ZXIiLCJjb25maWd1cmVNb2NrU3RvcmUiLCJ0aHVua01pZGRsZXdhcmUiLCJoaXN0b3J5IiwibWlkZGxld2FyZXMiLCJtb2NrU3RvcmUiLCJkZXNjcmliZSIsInN0b3JlIiwibW9ja0F4aW9zIiwiaW5pdGlhbFN0YXRlIiwidXNlciIsImJlZm9yZUVhY2giLCJnbG9iYWwiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJhZnRlckVhY2giLCJyZXN0b3JlIiwiY2xlYXJBY3Rpb25zIiwiaXQiLCJmYWtlVXNlciIsInVzZXJuYW1lIiwib25HZXQiLCJyZXBseU9uY2UiLCJkaXNwYXRjaCIsImFjdGlvbnMiLCJnZXRBY3Rpb25zIiwidHlwZSIsInRvIiwiYmUiLCJlcXVhbCIsImF1dGgiLCJkZWVwIiwibGVuZ3RoIiwib25Qb3N0IiwibG9jYXRpb24iLCJwYXRobmFtZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NocmlzYi9GdWxsc3RhY2svQm9pbGVyTWFrZXItdGVtcGxhdGUvY2xpZW50L3N0b3JlLyIsInNvdXJjZXMiOlsiYXV0aC5zcGVjLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBkZXNjcmliZSBiZWZvcmVFYWNoIGFmdGVyRWFjaCBpdCAqL1xuXG5pbXBvcnQge2V4cGVjdH0gZnJvbSAnY2hhaSdcbmltcG9ydCB7bWUsIGxvZ291dH0gZnJvbSAnLi9hdXRoJ1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuaW1wb3J0IE1vY2tBZGFwdGVyIGZyb20gJ2F4aW9zLW1vY2stYWRhcHRlcidcbmltcG9ydCBjb25maWd1cmVNb2NrU3RvcmUgZnJvbSAncmVkdXgtbW9jay1zdG9yZSdcbmltcG9ydCB0aHVua01pZGRsZXdhcmUgZnJvbSAncmVkdXgtdGh1bmsnXG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuLi9oaXN0b3J5J1xuXG5jb25zdCBtaWRkbGV3YXJlcyA9IFt0aHVua01pZGRsZXdhcmVdXG5jb25zdCBtb2NrU3RvcmUgPSBjb25maWd1cmVNb2NrU3RvcmUobWlkZGxld2FyZXMpXG5cbmRlc2NyaWJlKCd0aHVuayBjcmVhdG9ycycsICgpID0+IHtcbiAgbGV0IHN0b3JlXG4gIGxldCBtb2NrQXhpb3NcblxuICBjb25zdCBpbml0aWFsU3RhdGUgPSB7dXNlcjoge319XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy9ubyBicm93c2VyIGF2YWlsYWJsZSwgd2UgbmVlZCB0byBzdHViIG91dCBsb2NhbFN0b3JhZ2VcbiAgICBnbG9iYWwud2luZG93ID0ge1xuICAgICAgbG9jYWxTdG9yYWdlOiB7XG4gICAgICAgIHJlbW92ZUl0ZW06ICgpID0+IHt9LFxuICAgICAgICBnZXRJdGVtOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICdzb21lLXRva2VuJ1xuICAgICAgICB9LFxuICAgICAgICBzZXRJdGVtOiAoKSA9PiB7fVxuICAgICAgfVxuICAgIH1cbiAgICBtb2NrQXhpb3MgPSBuZXcgTW9ja0FkYXB0ZXIoYXhpb3MpXG4gICAgc3RvcmUgPSBtb2NrU3RvcmUoaW5pdGlhbFN0YXRlKVxuICB9KVxuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgbW9ja0F4aW9zLnJlc3RvcmUoKVxuICAgIHN0b3JlLmNsZWFyQWN0aW9ucygpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ21lJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCd3aXRoIHZhbGlkIHRva2VuJywgKCkgPT4ge1xuICAgICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC53aW5kb3cgPSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlOiB7XG4gICAgICAgICAgICByZW1vdmVJdGVtOiAoKSA9PiB7fSxcbiAgICAgICAgICAgIGdldEl0ZW06ICgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuICdzb21lLXRva2VuJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldEl0ZW06ICgpID0+IHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgaXQoJ2V2ZW50dWFsbHkgZGlzcGF0Y2hlcyB0aGUgU0VUX0FVVEggYWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBmYWtlVXNlciA9IHt1c2VybmFtZTogJ0NvZHknfVxuICAgICAgICBtb2NrQXhpb3Mub25HZXQoJy9hdXRoL21lJykucmVwbHlPbmNlKDIwMCwgZmFrZVVzZXIpXG4gICAgICAgIGF3YWl0IHN0b3JlLmRpc3BhdGNoKG1lKCkpXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBzdG9yZS5nZXRBY3Rpb25zKClcbiAgICAgICAgZXhwZWN0KGFjdGlvbnNbMF0udHlwZSkudG8uYmUuZXF1YWwoJ1NFVF9BVVRIJylcbiAgICAgICAgZXhwZWN0KGFjdGlvbnNbMF0uYXV0aCkudG8uYmUuZGVlcC5lcXVhbChmYWtlVXNlcilcbiAgICAgIH0pXG4gICAgfSlcbiAgICBkZXNjcmliZSgnd2l0aG91dCB2YWxpZCB0b2tlbicsICgpID0+IHtcbiAgICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICBnbG9iYWwud2luZG93ID0ge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZToge1xuICAgICAgICAgICAgcmVtb3ZlSXRlbTogKCkgPT4ge30sXG4gICAgICAgICAgICBnZXRJdGVtOiAoKSA9PiB7fSxcbiAgICAgICAgICAgIHNldEl0ZW06ICgpID0+IHt9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgaXQoJ2RvZXMgbm90IGRpc3BhdGNoIEdFVCBVU0VSIGFjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZmFrZVVzZXIgPSB7dXNlcm5hbWU6ICdDb2R5J31cbiAgICAgICAgbW9ja0F4aW9zLm9uR2V0KCcvYXV0aC9tZScpLnJlcGx5T25jZSgyMDAsIGZha2VVc2VyKVxuICAgICAgICBhd2FpdCBzdG9yZS5kaXNwYXRjaChtZSgpKVxuICAgICAgICBjb25zdCBhY3Rpb25zID0gc3RvcmUuZ2V0QWN0aW9ucygpXG4gICAgICAgIGV4cGVjdChhY3Rpb25zLmxlbmd0aCkudG8uZXF1YWwoMClcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnbG9nb3V0JywgKCkgPT4ge1xuICAgIGl0KCdsb2dvdXQ6IGV2ZW50dWFsbHkgZGlzcGF0Y2hlcyB0aGUgU0VUX0FVVEggYWN0aW9uIHdpdGhhbiBlbXB0eSBvYmplY3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXhpb3Mub25Qb3N0KCcvYXV0aC9sb2dvdXQnKS5yZXBseU9uY2UoMjA0KVxuICAgICAgYXdhaXQgc3RvcmUuZGlzcGF0Y2gobG9nb3V0KCkpXG4gICAgICBjb25zdCBhY3Rpb25zID0gc3RvcmUuZ2V0QWN0aW9ucygpXG4gICAgICBleHBlY3QoYWN0aW9uc1swXS50eXBlKS50by5iZS5lcXVhbCgnU0VUX0FVVEgnKVxuICAgICAgZXhwZWN0KGhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWUpLnRvLmJlLmVxdWFsKCcvbG9naW4nKVxuICAgIH0pXG4gIH0pXG59KVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUVBLFNBQVFBLE1BQVIsUUFBcUIsTUFBckI7QUFDQSxTQUFRQyxFQUFSLEVBQVlDLE1BQVosUUFBeUIsUUFBekI7QUFDQSxPQUFPQyxLQUFQLE1BQWtCLE9BQWxCO0FBQ0EsT0FBT0MsV0FBUCxNQUF3QixvQkFBeEI7QUFDQSxPQUFPQyxrQkFBUCxNQUErQixrQkFBL0I7QUFDQSxPQUFPQyxlQUFQLE1BQTRCLGFBQTVCO0FBQ0EsT0FBT0MsT0FBUCxNQUFvQixZQUFwQjtBQUVBLE1BQU1DLFdBQVcsR0FBRyxDQUFDRixlQUFELENBQXBCO0FBQ0EsTUFBTUcsU0FBUyxHQUFHSixrQkFBa0IsQ0FBQ0csV0FBRCxDQUFwQztBQUVBRSxRQUFRLENBQUMsZ0JBQUQsRUFBbUIsTUFBTTtFQUMvQixJQUFJQyxLQUFKO0VB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","map":{"version":3,"names":["expect","me","logout","axios","MockAdapter","configureMockStore","thunkMiddleware","history","middlewares","mockStore","describe","store","mockAxios","initialState","user","beforeEach","global","window","localStorage","removeItem","getItem","setItem","afterEach","restore","clearActions","it","fakeUser","username","onGet","replyOnce","dispatch","actions","getActions","type","to","be","equal","auth","deep","length","onPost","location","pathname"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/client/store/","sources":["auth.spec.js"],"sourcesContent":["/* global describe beforeEach afterEach it */\n\nimport {expect} from 'chai'\nimport {me, logout} from './auth'\nimport axios from 'axios'\nimport MockAdapter from 'axios-mock-adapter'\nimport configureMockStore from 'redux-mock-store'\nimport thunkMiddleware from 'redux-thunk'\nimport history from '../history'\n\nconst middlewares = [thunkMiddleware]\nconst mockStore = configureMockStore(middlewares)\n\ndescribe('thunk creators', () => {\n  let store\n  let mockAxios\n\n  const initialState = {user: {}}\n\n  beforeEach(() => {\n    //no browser available, we need to stub out localStorage\n    global.window = {\n      localStorage: {\n        removeItem: () => {},\n        getItem: () => {\n          return 'some-token'\n        },\n        setItem: () => {}\n      }\n    }\n    mockAxios = new MockAdapter(axios)\n    store = mockStore(initialState)\n  })\n\n  afterEach(() => {\n    mockAxios.restore()\n    store.clearActions()\n  })\n\n  describe('me', () => {\n    describe('with valid token', () => {\n      beforeEach(() => {\n        global.window = {\n          localStorage: {\n            removeItem: () => {},\n            getItem: () => {\n              return 'some-token'\n            },\n            setItem: () => {}\n          }\n        }\n      })\n      it('eventually dispatches the SET_AUTH action', async () => {\n        const fakeUser = {username: 'Cody'}\n        mockAxios.onGet('/auth/me').replyOnce(200, fakeUser)\n        await store.dispatch(me())\n        const actions = store.getActions()\n        expect(actions[0].type).to.be.equal('SET_AUTH')\n        expect(actions[0].auth).to.be.deep.equal(fakeUser)\n      })\n    })\n    describe('without valid token', () => {\n      beforeEach(() => {\n        global.window = {\n          localStorage: {\n            removeItem: () => {},\n            getItem: () => {},\n            setItem: () => {}\n          }\n        }\n      })\n      it('does not dispatch GET USER action', async () => {\n        const fakeUser = {username: 'Cody'}\n        mockAxios.onGet('/auth/me').replyOnce(200, fakeUser)\n        await store.dispatch(me())\n        const actions = store.getActions()\n        expect(actions.length).to.equal(0)\n      })\n    })\n  })\n\n  describe('logout', () => {\n    it('logout: eventually dispatches the SET_AUTH action withan empty object', async () => {\n      mockAxios.onPost('/auth/logout').replyOnce(204)\n      await store.dispatch(logout())\n      const actions = store.getActions()\n      expect(actions[0].type).to.be.equal('SET_AUTH')\n      expect(history.location.pathname).to.be.equal('/login')\n    })\n  })\n})\n"],"mappings":"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"}},"mtime":1654023890368},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/client/store/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/client/store/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"import axios from 'axios';\nimport history from '../history';\nconst TOKEN = 'token';\n/**\n * ACTION TYPES\n */\n\nconst SET_AUTH = 'SET_AUTH';\n/**\n * ACTION CREATORS\n */\n\nconst setAuth = auth => ({\n  type: SET_AUTH,\n  auth\n});\n/**\n * THUNK CREATORS\n */\n\n\nexport const me = () => async dispatch => {\n  const token = window.localStorage.getItem(TOKEN);\n\n  if (token) {\n    const res = await axios.get('/auth/me', {\n      headers: {\n        authorization: token\n      }\n    });\n    return dispatch(setAuth(res.data));\n  }\n};\nexport const authenticate = (username, password, method) => async dispatch => {\n  try {\n    const res = await axios.post(`/auth/${method}`, {\n      username,\n      password\n    });\n    window.localStorage.setItem(TOKEN, res.data.token);\n    dispatch(me());\n  } catch (authError) {\n    return dispatch(setAuth({\n      error: authError\n    }));\n  }\n};\nexport const logout = () => {\n  window.localStorage.removeItem(TOKEN);\n  history.push('/login');\n  return {\n    type: SET_AUTH,\n    auth: {}\n  };\n};\n/**\n * REDUCER\n */\n\nexport default function (state = {}, action) {\n  switch (action.type) {\n    case SET_AUTH:\n      return action.auth;\n\n    default:\n      return state;\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJheGlvcyIsImhpc3RvcnkiLCJUT0tFTiIsIlNFVF9BVVRIIiwic2V0QXV0aCIsImF1dGgiLCJ0eXBlIiwibWUiLCJkaXNwYXRjaCIsInRva2VuIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInJlcyIsImdldCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwiZGF0YSIsImF1dGhlbnRpY2F0ZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJtZXRob2QiLCJwb3N0Iiwic2V0SXRlbSIsImF1dGhFcnJvciIsImVycm9yIiwibG9nb3V0IiwicmVtb3ZlSXRlbSIsInB1c2giLCJzdGF0ZSIsImFjdGlvbiJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2NocmlzYi9GdWxsc3RhY2svQm9pbGVyTWFrZXItdGVtcGxhdGUvY2xpZW50L3N0b3JlLyIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuLi9oaXN0b3J5J1xuXG5jb25zdCBUT0tFTiA9ICd0b2tlbidcblxuLyoqXG4gKiBBQ1RJT04gVFlQRVNcbiAqL1xuY29uc3QgU0VUX0FVVEggPSAnU0VUX0FVVEgnXG5cbi8qKlxuICogQUNUSU9OIENSRUFUT1JTXG4gKi9cbmNvbnN0IHNldEF1dGggPSBhdXRoID0+ICh7dHlwZTogU0VUX0FVVEgsIGF1dGh9KVxuXG4vKipcbiAqIFRIVU5LIENSRUFUT1JTXG4gKi9cbmV4cG9ydCBjb25zdCBtZSA9ICgpID0+IGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgY29uc3QgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oVE9LRU4pXG4gIGlmICh0b2tlbikge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldCgnL2F1dGgvbWUnLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRva2VuXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gZGlzcGF0Y2goc2V0QXV0aChyZXMuZGF0YSkpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGF1dGhlbnRpY2F0ZSA9ICh1c2VybmFtZSwgcGFzc3dvcmQsIG1ldGhvZCkgPT4gYXN5bmMgZGlzcGF0Y2ggPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoYC9hdXRoLyR7bWV0aG9kfWAsIHt1c2VybmFtZSwgcGFzc3dvcmR9KVxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShUT0tFTiwgcmVzLmRhdGEudG9rZW4pXG4gICAgZGlzcGF0Y2gobWUoKSlcbiAgfSBjYXRjaCAoYXV0aEVycm9yKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKHNldEF1dGgoe2Vycm9yOiBhdXRoRXJyb3J9KSlcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9nb3V0ID0gKCkgPT4ge1xuICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVE9LRU4pXG4gIGhpc3RvcnkucHVzaCgnL2xvZ2luJylcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBTRVRfQVVUSCxcbiAgICBhdXRoOiB7fVxuICB9XG59XG5cbi8qKlxuICogUkVEVUNFUlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzdGF0ZSA9IHt9LCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VUX0FVVEg6XG4gICAgICByZXR1cm4gYWN0aW9uLmF1dGhcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBT0EsS0FBUCxNQUFrQixPQUFsQjtBQUNBLE9BQU9DLE9BQVAsTUFBb0IsWUFBcEI7QUFFQSxNQUFNQyxLQUFLLEdBQUcsT0FBZDtBQUVBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQyxRQUFRLEdBQUcsVUFBakI7QUFFQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHQyxJQUFJLEtBQUs7RUFBQ0MsSUFBSSxFQUFFSCxRQUFQO0VBQWlCRTtBQUFqQixDQUFMLENBQXBCO0FBRUE7QUFDQTtBQUNBOzs7QUFDQSxPQUFPLE1BQU1FLEVBQUUsR0FBRyxNQUFNLE1BQU1DLFFBQU4sSUFBa0I7RUFDeEMsTUFBTUMsS0FBSyxHQUFHQyxNQUFNLENBQUNDLFlBQVAsQ0FBb0JDLE9BQXBCLENBQTRCVixLQUE1QixDQUFkOztFQUNBLElBQUlPLEtBQUosRUFBVztJQUNULE1BQU1JLEdBQUcsR0FBRyxNQUFNYixLQUFLLENBQUNjLEdBQU4sQ0FBVSxVQUFWLEVBQXNCO01BQ3RDQyxPQUFPLEVBQUU7UUFDUEMsYUFBYSxFQUFFUDtNQURSO0lBRDZCLENBQXRCLENBQWxCO0lBS0EsT0FBT0QsUUFBUSxDQUFDSixPQUFPLENBQUNTLEdBQUcsQ0FBQ0ksSUFBTCxDQUFSLENBQWY7RUFDRDtBQUNGLENBVk07QUFZUCxPQUFPLE1BQU1DLFlBQVksR0FBRyxDQUFDQyxRQUFELEVBQVdDLFFBQVgsRUFBcUJDLE1BQXJCLEtBQWdDLE1BQU1iLFFBQU4sSUFBa0I7RUFDNUUsSUFBSTtJQUNGLE1BQU1LLEdBQUcsR0FBRyxNQUFNYixLQUFLLENBQUNzQixJQUFOLENBQVksU0FBUUQsTUFBTyxFQUEzQixFQUE4QjtNQUFDRixRQUFEO01BQVdDO0lBQVgsQ0FBOUIsQ0FBbEI7SUFDQVYsTUFBTSxDQUFDQyxZQUFQLENBQW9CWSxPQUFwQixDQUE0QnJCLEtBQTVCLEVBQW1DVyxHQUFHLENBQUNJLElBQUosQ0FBU1IsS0FBNUM7SUFDQUQsUUFBUSxDQUFDRCxFQUFFLEVBQUgsQ0FBUjtFQUNELENBSkQsQ0FJRSxPQUFPaUIsU0FBUCxFQUFrQjtJQUNsQixPQUFPaEIsUUFBUSxDQUFDSixPQUFPLENBQUM7TUFBQ3FCLEtBQUssRUFBRUQ7SUFBUixDQUFELENBQVIsQ0FBZjtFQUNEO0FBQ0YsQ0FSTTtBQVVQLE9BQU8sTUFBTUUsTUFBTSxHQUFHLE1BQU07RUFDMUJoQixNQUFNLENBQUNDLFlBQVAsQ0FBb0JnQixVQUFwQixDQUErQnpCLEtBQS9CO0VBQ0FELE9BQU8sQ0FBQzJCLElBQVIsQ0FBYSxRQUFiO0VBQ0EsT0FBTztJQUNMdEIsSUFBSSxFQUFFSCxRQUREO0lBRUxFLElBQUksRUFBRTtFQUZELENBQVA7QUFJRCxDQVBNO0FBU1A7QUFDQTtBQUNBOztBQUNBLGVBQWUsVUFBU3dCLEtBQUssR0FBRyxFQUFqQixFQUFxQkMsTUFBckIsRUFBNkI7RUFDMUMsUUFBUUEsTUFBTSxDQUFDeEIsSUFBZjtJQUNFLEtBQUtILFFBQUw7TUFDRSxPQUFPMkIsTUFBTSxDQUFDekIsSUFBZDs7SUFDRjtNQUNFLE9BQU93QixLQUFQO0VBSko7QUFNRCJ9","map":{"version":3,"names":["axios","history","TOKEN","SET_AUTH","setAuth","auth","type","me","dispatch","token","window","localStorage","getItem","res","get","headers","authorization","data","authenticate","username","password","method","post","setItem","authError","error","logout","removeItem","push","state","action"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/client/store/","sources":["auth.js"],"sourcesContent":["import axios from 'axios'\nimport history from '../history'\n\nconst TOKEN = 'token'\n\n/**\n * ACTION TYPES\n */\nconst SET_AUTH = 'SET_AUTH'\n\n/**\n * ACTION CREATORS\n */\nconst setAuth = auth => ({type: SET_AUTH, auth})\n\n/**\n * THUNK CREATORS\n */\nexport const me = () => async dispatch => {\n  const token = window.localStorage.getItem(TOKEN)\n  if (token) {\n    const res = await axios.get('/auth/me', {\n      headers: {\n        authorization: token\n      }\n    })\n    return dispatch(setAuth(res.data))\n  }\n}\n\nexport const authenticate = (username, password, method) => async dispatch => {\n  try {\n    const res = await axios.post(`/auth/${method}`, {username, password})\n    window.localStorage.setItem(TOKEN, res.data.token)\n    dispatch(me())\n  } catch (authError) {\n    return dispatch(setAuth({error: authError}))\n  }\n}\n\nexport const logout = () => {\n  window.localStorage.removeItem(TOKEN)\n  history.push('/login')\n  return {\n    type: SET_AUTH,\n    auth: {}\n  }\n}\n\n/**\n * REDUCER\n */\nexport default function(state = {}, action) {\n  switch (action.type) {\n    case SET_AUTH:\n      return action.auth\n    default:\n      return state\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,MAAMC,KAAK,GAAG,OAAd;AAEA;AACA;AACA;;AACA,MAAMC,QAAQ,GAAG,UAAjB;AAEA;AACA;AACA;;AACA,MAAMC,OAAO,GAAGC,IAAI,KAAK;EAACC,IAAI,EAAEH,QAAP;EAAiBE;AAAjB,CAAL,CAApB;AAEA;AACA;AACA;;;AACA,OAAO,MAAME,EAAE,GAAG,MAAM,MAAMC,QAAN,IAAkB;EACxC,MAAMC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BV,KAA5B,CAAd;;EACA,IAAIO,KAAJ,EAAW;IACT,MAAMI,GAAG,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAU,UAAV,EAAsB;MACtCC,OAAO,EAAE;QACPC,aAAa,EAAEP;MADR;IAD6B,CAAtB,CAAlB;IAKA,OAAOD,QAAQ,CAACJ,OAAO,CAACS,GAAG,CAACI,IAAL,CAAR,CAAf;EACD;AACF,CAVM;AAYP,OAAO,MAAMC,YAAY,GAAG,CAACC,QAAD,EAAWC,QAAX,EAAqBC,MAArB,KAAgC,MAAMb,QAAN,IAAkB;EAC5E,IAAI;IACF,MAAMK,GAAG,GAAG,MAAMb,KAAK,CAACsB,IAAN,CAAY,SAAQD,MAAO,EAA3B,EAA8B;MAACF,QAAD;MAAWC;IAAX,CAA9B,CAAlB;IACAV,MAAM,CAACC,YAAP,CAAoBY,OAApB,CAA4BrB,KAA5B,EAAmCW,GAAG,CAACI,IAAJ,CAASR,KAA5C;IACAD,QAAQ,CAACD,EAAE,EAAH,CAAR;EACD,CAJD,CAIE,OAAOiB,SAAP,EAAkB;IAClB,OAAOhB,QAAQ,CAACJ,OAAO,CAAC;MAACqB,KAAK,EAAED;IAAR,CAAD,CAAR,CAAf;EACD;AACF,CARM;AAUP,OAAO,MAAME,MAAM,GAAG,MAAM;EAC1BhB,MAAM,CAACC,YAAP,CAAoBgB,UAApB,CAA+BzB,KAA/B;EACAD,OAAO,CAAC2B,IAAR,CAAa,QAAb;EACA,OAAO;IACLtB,IAAI,EAAEH,QADD;IAELE,IAAI,EAAE;EAFD,CAAP;AAID,CAPM;AASP;AACA;AACA;;AACA,eAAe,UAASwB,KAAK,GAAG,EAAjB,EAAqBC,MAArB,EAA6B;EAC1C,QAAQA,MAAM,CAACxB,IAAf;IACE,KAAKH,QAAL;MACE,OAAO2B,MAAM,CAACzB,IAAd;;IACF;MACE,OAAOwB,KAAP;EAJJ;AAMD"}},"mtime":1654023890367},"{\"assumptions\":{},\"sourceRoot\":\"/Users/chrisb/Fullstack/BoilerMaker-template/client/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"filename\":\"/Users/chrisb/Fullstack/BoilerMaker-template/client/history.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"test\",\"root\":\"/Users/chrisb/Fullstack/BoilerMaker-template\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.18.2:test":{"value":{"code":"import { createMemoryHistory, createBrowserHistory } from 'history';\nconst history = process.env.NODE_ENV === 'test' ? createMemoryHistory() : createBrowserHistory();\nexport default history;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjcmVhdGVNZW1vcnlIaXN0b3J5IiwiY3JlYXRlQnJvd3Nlckhpc3RvcnkiLCJoaXN0b3J5IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvY2hyaXNiL0Z1bGxzdGFjay9Cb2lsZXJNYWtlci10ZW1wbGF0ZS9jbGllbnQvIiwic291cmNlcyI6WyJoaXN0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlTWVtb3J5SGlzdG9yeSwgY3JlYXRlQnJvd3Nlckhpc3Rvcnl9IGZyb20gJ2hpc3RvcnknXG5cbmNvbnN0IGhpc3RvcnkgPVxuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnXG4gICAgPyBjcmVhdGVNZW1vcnlIaXN0b3J5KClcbiAgICA6IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KClcblxuZXhwb3J0IGRlZmF1bHQgaGlzdG9yeVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFRQSxtQkFBUixFQUE2QkMsb0JBQTdCLFFBQXdELFNBQXhEO0FBRUEsTUFBTUMsT0FBTyxHQUNYQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixNQUF6QixHQUNJTCxtQkFBbUIsRUFEdkIsR0FFSUMsb0JBQW9CLEVBSDFCO0FBS0EsZUFBZUMsT0FBZiJ9","map":{"version":3,"names":["createMemoryHistory","createBrowserHistory","history","process","env","NODE_ENV"],"sourceRoot":"/Users/chrisb/Fullstack/BoilerMaker-template/client/","sources":["history.js"],"sourcesContent":["import {createMemoryHistory, createBrowserHistory} from 'history'\n\nconst history =\n  process.env.NODE_ENV === 'test'\n    ? createMemoryHistory()\n    : createBrowserHistory()\n\nexport default history\n"],"mappings":"AAAA,SAAQA,mBAAR,EAA6BC,oBAA7B,QAAwD,SAAxD;AAEA,MAAMC,OAAO,GACXC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GACIL,mBAAmB,EADvB,GAEIC,oBAAoB,EAH1B;AAKA,eAAeC,OAAf"}},"mtime":1654023890365}}